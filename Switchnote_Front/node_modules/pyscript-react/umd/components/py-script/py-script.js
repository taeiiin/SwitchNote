!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["pyscript-react"]=e():r["pyscript-react"]=e()}(this,(()=>(()=>{"use strict";var r={5414:(r,e,t)=>{t.d(e,{default:()=>O});var n=t(580),o=t.n(n),i=t(6689),u=t(997);function c(r){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c(r)}var l=["children","source","type","splashscreen","interpreters","fetch","packages","plugins"],a=["files"];function f(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function s(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){p(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function p(r,e,t){return(e=function(r){var e=function(r,e){if("object"!==c(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===c(e)?e:String(e)}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function y(r){return function(r){if(Array.isArray(r))return d(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||v(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},i=Object.keys(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}function v(r,e){if(r){if("string"==typeof r)return d(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(r,e):void 0}}function d(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var g=function(r){return Boolean(Object.entries(r).filter((function(r){return void 0!==(e=r,t=2,function(r){if(Array.isArray(r))return r}(e)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,i,u,c=[],l=!0,a=!1;try{if(i=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(r){a=!0,o=r}finally{try{if(!l&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(a)throw o}}return c}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];var e,t})).length)},m=(0,i.forwardRef)((function(r,e){var t=r.children,n=r.source,o=r.type,c=r.splashscreen,f=r.interpreters,p=r.fetch,v=r.packages,d=r.plugins,m=b(r,l),O=(0,i.useMemo)((function(){if("json"===o){var r,e,n,i=[].concat(y(null!=d?d:[]),y(null!==(r=null==t?void 0:t.plugins)&&void 0!==r?r:[])),u=[].concat(y(null!=v?v:[]),y(null!==(e=null==t?void 0:t.packages)&&void 0!==e?e:[])),l=[].concat(y(null!=p?p:[]),y(null!==(n=null==t?void 0:t.fetch)&&void 0!==n?n:[])).map((function(r){var e=r.files,t=b(r,a),n=y(null!=e?e:[]);return s({files:n.length?n:void 0},t)})),m=s({src:null==f?void 0:f.source,name:null==f?void 0:f.name,language:null==f?void 0:f.language},null==t?void 0:t.interpreters),O=s({autoclose:null==c?void 0:c.autoclose},null==t?void 0:t.splashscreen);return JSON.stringify(s({splashscreen:g(O)?O:void 0,interpreters:g(m)?m:void 0,fetch:l.length?l:void 0,packages:u.length?u:void 0,plugins:i.length?i:void 0},t))}return"".concat(null!=t?t:"")}),[t,c,f,p,v,d]);return(0,i.useEffect)((function(){n&&t&&console.warn("Children is passed with source. It may create undefined behavior. Remove one of these properties.")}),[n,t]),(0,u.jsx)("py-config",s(s({ref:e},m),{},{type:o,src:n,children:n?void 0:O}))}));m.displayName="PyConfig",m.propTypes={children:o().oneOfType([o().string.isRequired,o().object]),type:o().oneOf(["toml","json"]),source:o().string,splashscreen:o().shape({autoclose:o().bool}),interpreters:o().shape({source:o().string,name:o().string,language:o().string}),fetch:o().arrayOf(o().shape({files:o().oneOfType([o().arrayOf(o().string),o().instanceOf(Set)])})),packages:o().oneOfType([o().arrayOf(o().string),o().instanceOf(Set)]),plugins:o().arrayOf(o().string)};const O=m},676:(r,e,t)=>{t.d(e,{default:()=>v});var n=t(580),o=t.n(n),i=t(6689),u=t(997);function c(r){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c(r)}var l=["children"];function a(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function f(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){s(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function s(r,e,t){return(e=function(r){var e=function(r,e){if("object"!==c(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===c(e)?e:String(e)}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function p(r){return function(r){if(Array.isArray(r))return y(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return y(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var b=(0,i.forwardRef)((function(r,e){var t=r.children,n=function(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},i=Object.keys(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}(r,l),o=(0,i.useMemo)((function(){var r=Object(t),e=r.paths,n=r.items;if(e||n){var o,i,u=(null===(o=p(n||[]))||void 0===o?void 0:o.map((function(r){return"- ".concat(r)})).join("\n"))||"",c=(null===(i=p(e||[]))||void 0===i?void 0:i.map((function(r){return"\t- ".concat(r)})).join("\n"))||"",l=c?"\n- paths:\n".concat(c):"";return"".concat(u).concat(l)}return Array.isArray(t)?t.map((function(r){return"- ".concat(r)})).join("\n"):t}),[t]);return(0,u.jsx)("py-env",f(f({ref:e},n),{},{children:o}))}));b.displayName="PyEnv",b.propTypes={children:o().oneOfType([o().string,o().array,o().exact({items:o().arrayOf(o().string),paths:o().arrayOf(o().string)})]).isRequired};const v=b},580:r=>{r.exports=require("prop-types")},6689:r=>{r.exports=require("react")},997:r=>{r.exports=require("react/jsx-runtime")}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return r[n](i,i.exports,t),i.exports}t.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return t.d(e,{a:e}),e},t.d=(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};return(()=>{t.r(n),t.d(n,{default:()=>b});var r=t(580),e=t.n(r),o=t(6689),i=t(5414),u=t(676),c=t(997);function l(r){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l(r)}var a=["children","output","generateOutputTag","pyEnvContent","pyEnvProps","pyConfigContent","pyConfigProps","src","source"];function f(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function s(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach((function(e){p(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function p(r,e,t){return(e=function(r){var e=function(r,e){if("object"!==l(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===l(e)?e:String(e)}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var y=(0,o.forwardRef)((function(r,e){var t=r.children,n=r.output,l=r.generateOutputTag,f=r.pyEnvContent,p=r.pyEnvProps,y=r.pyConfigContent,b=r.pyConfigProps,v=r.src,d=r.source,g=function(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},i=Object.keys(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}(r,a),m=(0,o.useMemo)((function(){var r=Boolean(null==b?void 0:b.source),e=("json"===(null==b?void 0:b.type)||y)&&(0,c.jsx)(i.default,s(s({},b),{},{children:y}));return r?(0,c.jsx)(i.default,s({},b)):e}),[b,y]);return(0,c.jsxs)(c.Fragment,{children:[m,f&&(0,c.jsx)(u.default,s(s({},p),{},{children:f})),n&&l&&(0,o.createElement)("string"==typeof l?l:"div",{id:n}),(0,c.jsx)("py-script",s(s({ref:e},g),{},{src:null!=d?d:v,output:n,children:null!=t?t:""}))]})}));y.displayName="PyScript",y.propTypes={children:e().string,output:e().string,generateOutputTag:e().oneOfType([e().string,e().bool]),pyEnvContent:e().oneOfType([e().string,e().array,e().exact({items:e().arrayOf(e().string),paths:e().arrayOf(e().string)})]),pyEnvProps:e().object,pyConfigContent:e().oneOfType([e().string.isRequired,e().object]),pyConfigProps:e().object,src:e().string,source:e().string};const b=y})(),n})()));