{"ast":null,"code":"var _jsxFileName = \"/Users/taein/Desktop/\\u1112\\u1161\\u11AB\\u110B\\u1175\\u110B\\u1173\\u11B7/AWS \\u110E\\u116C\\u1109\\u1175\\u11AB\\u1107\\u1169\\u11AB/Switchnote_Front/src/components/ToScript.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport aws from 'aws-sdk';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ToScript = () => {\n  _s();\n  const navigate = useNavigate();\n  const [file, setFile] = useState(null);\n  const [result, setResult] = useState(null);\n  const pyscript = require('pyscript-react');\n  const {\n    PtoS\n  } = require('./PPTtoScript.py');\n  function pyS(file) {\n    if (file) {\n      PtoS(file).then(result => {\n        console.log('함수 호출 성공');\n        setResult(result);\n      }).catch(error => {\n        console.log('함수 호출 실패');\n        console.error(error);\n      });\n    } else {\n      console.log('파일 없음');\n    }\n  }\n  ;\n  useEffect(() => {\n    const s3 = new aws.S3({\n      accessKeyId: 'AKIAU4PAKJFYHKHYQX6A',\n      secretAccessKey: 'jYNF3dkk06e44cL6iP7aNk9WBsjNOlkgxwNRKfQ1',\n      region: 'ap-southeast-2'\n    });\n    const params = {\n      Bucket: 'pptforscript',\n      Key: 'sample.pptx',\n      ResponseContentType: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n    };\n    s3.getObject(params, function (err, data) {\n      if (err) {\n        console.log('s3 연결 실패');\n        console.log(err, err.stack);\n      } else {\n        console.log('s3 연결 성공');\n        console.log(data);\n        const file = new File([data.Body], 'sample.pptx', {\n          type: data.ContentType\n        });\n        console.log(file.name);\n        if (file) {\n          pyS(file);\n        } else {\n          console.log('file null');\n        }\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: file && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: file,\n      alt: \"pptx \\uD30C\\uC77C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 22\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n_s(ToScript, \"3YLa3RMRjf010gK9eYWcTSzx+Jw=\", false, function () {\n  return [useNavigate];\n});\n_c = ToScript;\nexport default ToScript;\nvar _c;\n$RefreshReg$(_c, \"ToScript\");","map":{"version":3,"names":["React","useEffect","useState","aws","useNavigate","jsxDEV","_jsxDEV","ToScript","_s","navigate","file","setFile","result","setResult","pyscript","require","PtoS","pyS","then","console","log","catch","error","s3","S3","accessKeyId","secretAccessKey","region","params","Bucket","Key","ResponseContentType","getObject","err","data","stack","File","Body","type","ContentType","name","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/taein/Desktop/한이음/AWS 최신본/Switchnote_Front/src/components/ToScript.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport aws from 'aws-sdk';\nimport { useNavigate } from \"react-router-dom\";\n\nconst ToScript = () => {\n    const navigate = useNavigate();\n    const [file, setFile] = useState(null);\n    const [result, setResult] = useState(null);\n    const pyscript = require('pyscript-react');\n    const { PtoS } = require('./PPTtoScript.py');\n\n    function pyS(file) {\n        if (file) {\n            PtoS(file)\n                .then(result => {\n                    console.log('함수 호출 성공');\n                    setResult(result);\n                })\n                .catch(error => {\n                    console.log('함수 호출 실패');\n                    console.error(error);\n                });\n        }\n        else {\n            console.log('파일 없음');\n        }\n    };\n\n    useEffect(() => {\n        const s3 = new aws.S3({\n            accessKeyId: 'AKIAU4PAKJFYHKHYQX6A',\n            secretAccessKey: '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',\n            region: 'ap-southeast-2'\n        });\n\n        const params = {\n            Bucket: 'pptforscript',\n            Key: 'sample.pptx',\n            ResponseContentType: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n        };\n\n        s3.getObject(params, function(err, data) {\n            if (err) {\n                console.log('s3 연결 실패');\n                console.log(err, err.stack);\n            } else {\n                console.log('s3 연결 성공');\n                console.log(data);\n                const file = new File([data.Body], 'sample.pptx', { type: data.ContentType });\n                console.log(file.name);\n                if(file) {\n                    pyS(file);\n                }\n                else {\n                    console.log('file null')\n                }\n            }\n        });\n    }, []);\n\n    return(\n        <div>\n            {file && <img src={file} alt=\"pptx 파일\" />}\n        </div>\n    )\n}\n\nexport default ToScript;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}